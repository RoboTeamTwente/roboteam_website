<div class="container">
  <div class="card mt-5">
    <div class="card-header">
      <strong> {{if model.isNew "Add new event" "Edit event"}} </strong>
    </div>
    <form {{action "saveModelWithImage" on="submit"}}>
      <div class="form-group pl-4 pr-4 pt-3">
        <div class="row">
          <div class="col-12"> 
            {{#if error}}
              <div class="alert alert-danger"> 
                <b> Oh oh... </b> <br> 
                {{error}}
              </div>
            {{/if}}

            <label>
              <span class="text"> Event name * </span>
              {{input type="text" class="form-control mb-2" placeholder="e.g. Open Days" value=model.title}} 
            </label>
          </div>

          <div class="col-6"> 
            <label>
              <span class="text"> Start of event * </span>
              {{pikaday-input placeholder="Start date" value=model.startdate class="form-control mb-2" format="DD/MM/YYYY" onSelection=(action (mut model.startdate))}}
            </label>
          </div>

          <div class="col-6"> 
            <label>
              <span class="text"> End of event * </span>
              {{pikaday-input placeholder="End date" value=model.enddate class="form-control mb-2" format="DD/MM/YYYY" onSelection=(action (mut model.enddate))}}
            </label>
          </div>

          <div class="col-6"> 
            <label>
              <span class="text"> Location * </span>
              {{input type="text" class="form-control mb-2" placeholder="e.g. Enschede" value=model.location}}
            </label>
          </div>

          <div class="col-6"> 
            <label>
              <span class="text"> Link </span>
              {{input type="text" class="form-control mb-2" placeholder="e.g. roboteamtwente.nl" value=model.link}}
            </label>
          </div>

          {{!-- Image upload --}}
          <div class="col-6"> 
            <label>
              <span class="text"> Image * </span> <br>
              {{x-file-input class="btn btn-primary" multiple=false name="false" action=(action "didSelectImage") accept="image/*" alt="Upload Image"}}
              <img id="output" class="img-sample" alt="preview" src={{model.imageSrc}} hidden={{shouldHideImage}}>
            </label>
          </div>

          <div class="col-12"> 
            <label>
              <span class="text"> Description *</span>
            </label>
            {{simple-mde class="border border-radius-2 p-0" value=model.description change=(action (mut model.description))}}
          </div>

          <div class="col-12"> 
            <button type="submit" class="btn btn-primary mb-2 mt-2 d-inline"> {{if model.isNew "Add event" "Update event"}} </button>
            {{#link-to "admin.events"}}
              <button class="btn btn-default mb-2 mt-2 d-inline"> Cancel </button>
            {{/link-to}}
          </div>
        </div>
      </div>            
    </form>
  </div>
</div>